<!DOCTYPE html>
<html>
<head>
<title>Smart Bike Pass System</title>
<style>
body,html{margin:0;padding:0;font-family:Arial;height:100%}
.page{display:none;height:100%;background-size:cover;background-position:center}
button,input{padding:10px;margin:8px;width:90%;border-radius:5px;border:1px solid #ccc}
button{background:#558b2f;color:white;border:none}
.container{background:rgba(255,255,255,0.95);padding:25px;border-radius:12px;width:350px;margin:auto;margin-top:80px;text-align:center}
#front{display:flex;justify-content:center;align-items:center;background-image:url('https://images.unsplash.com/photo-1558980664-10ea31d08b3a')}
#studentPage,#adminLogin,#adminPage{background-image:url('https://images.unsplash.com/photo-1558980664-10ea31d08b3a')}
h1,h2{color:#004d40}
#qrcode{margin-top:15px}
</style>
</head>
<body>

<div id="front" class="page" style="display:flex">
<div class="container">
<h1>Smart Bike Pass</h1>
<button onclick="openStudent()">Student</button>
<button onclick="openAdminLogin()">Admin</button>
</div>
</div>

<div id="studentPage" class="page">
<div class="container">
<h2>Student Pass Request</h2>
<input id="sname" placeholder="Student Name">
<input id="bike" placeholder="Bike Number">
<input id="license" placeholder="License Number">
<input id="insOwner" placeholder="Insurance Owner">
<input type="date" id="insDate">
<button onclick="requestPass()">Request Pass</button>
<div id="sstatus"></div>
<div id="qrcode"></div>
<button onclick="logout()">Logout</button>
</div>
</div>

<div id="adminLogin" class="page">
<div class="container">
<h2>Admin Login</h2>
<input id="auser" placeholder="Username">
<input id="apass" type="password" placeholder="Password">
<button onclick="adminLogin()">Login</button>
<div id="aloginStatus"></div>
<button onclick="logout()">Back</button>
</div>
</div>

<div id="adminPage" class="page">
<div class="container">
<h2>Admin Approval</h2>
<button onclick="approvePass()">Approve & Generate QR</button>
<div id="astatus"></div>
<button onclick="logout()">Logout</button>
</div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
let data=null

function hideAll(){
document.querySelectorAll('.page').forEach(p=>p.style.display='none')
}

function openStudent(){hideAll();studentPage.style.display='block'}
function openAdminLogin(){hideAll();adminLogin.style.display='block'}
function logout(){hideAll();front.style.display='flex'}

function requestPass(){
let n=sname.value,b=bike.value,l=license.value,i=insOwner.value,d=insDate.value
if(!n||!b||!l||!i||!d){sstatus.innerText="Fill all details";return}
data={n,b,l,i,d}
sstatus.innerText="Waiting for admin approval"
}

function adminLogin(){
if(auser.value==="admin"&&apass.value==="admin123"){
hideAll();adminPage.style.display='block'
}else aloginStatus.innerText="Invalid Login"
}

function approvePass(){
if(!data){astatus.innerText="No request";return}
qrcode.innerHTML=""
new QRCode(qrcode,{
text:`Name:${data.n}\nBike:${data.b}\nLicense:${data.l}\nInsurance:${data.i}\nValid:${data.d}\nAPPROVED`,
width:180,height:180
})
astatus.innerText="Approved Successfully"
sstatus.innerText="Pass Approved"
}
</script>

</body>
</html>
